---
date: 2020-11-23T16:56:23+08:00  # 创建日期
author: "Rustle Karl"  # 作者

# 文章
title: "Jmeter 术语"  # 文章标题
url:  "posts/gin/project/jmeter/term"  # 设置网页链接，默认使用文件名
tags: [ "gin", "jmeter", "测试" ]  # 自定义标签
series: [ "Gin 学习笔记"]  # 文章主题/文章系列
categories: [ "学习笔记"]  # 文章分类

# 章节
weight: 20 # 排序优先级
chapter: false  # 设置为章节

index: true  # 是否可以被索引
toc: true  # 是否自动生成目录
draft: false  # 草稿
---

## 常用术语

- 采样器（ Sampler ）：采样器是 JMeter 测试脚本的基础单元，用户可以用它来向服务器发出一个特定的请求，采样器会在超时前等待服务器的响应。
- 逻辑控制器（ Logic Controller ）：用户通过逻辑控制器来控制 JMeter 测试脚本的执行顺序，以便测试能够按照用户期望的顺序和逻辑执行。
- 监听器（ Listener ）：监听器被用来收集测试结果信息，并以用户指定的方式加以展示。
- 配置元件（ Configuration Element ）：配置元件被用来设置一些 JMeter 测试脚本公用的信息。
- 断言（ Assertion ）：断言被用来验证服务器实际返回的信息，与用户期望的情况是否相符。
- 定时器（ Timer ）：定时器被用来保存 JMeter 测试脚本与时间相关的一些信息，例如思考时间（ Think Time ）。
- 前置处理器（ Pre-Processor ）：在前置处理器的作用范围内，任何采样器被执行前，都要先执行前置处理器。
- 后置处理器（ Post-Processor ）：在后置处理器的作用范围内，任何采样器被执行后，都要执行对应的后置处理器。
- 测试计划（ Test Plan ）：测试计划是 JMeter 测试脚本的根节点，关于整个测试脚本的一些基础设置，可以在测试计划中设定，例如用户定义变量。
- 线程组（ Thread Group ）：线程组定义了一个虚拟用户池，其中每一个虚拟用户都使用同样的测试脚本。
- 工作台（ WorkBench ）：工作台被用来保存暂时不使用的测试元素，当测试人员保存测试计划时，工作台中的内容不会被一起保存。


## 指标解释

- Samples：表示这次测试中一共发出了多少个请求，如果模拟 10 个用户，每个用户迭代 10 次，那么这里显示 100。
- Average：平均响应时间 ms，默认情况下是单个 Request 的平均响应时间（QPS），当使用了 Transaction Controller 时，也可以以 Transaction 为单位显示平均响应时间（TPS）。
- Median：中位数，也就是 50 % 用户的响应时间。
- 90 % Line：90 % 用户的响应时间。
- Min：最小响应时间 ms。
- Max：最大响应时间 ms。
- Error %：本次测试中出现**错误的请求的数量 / 请求的总数**。
- Throughput：**吞吐量**，在没有帧丢失的情况下，设备能够接受的最大速率。默认情况下表示每秒完成的请求数（ Request per Second ），当使用了 Transaction Controller 时，也可以表示类似 LoadRunner 的 Transaction per Second 数。
- KB/Sec：每秒从服务器端接收到的数据量，相当于 LoadRunner 中的 Throughput/Sec。
- Avg.Bytes：服务端返回给 request 数据的平均值，即服务端返回所有数据/请求数

## 基本概念

### 测试计划

JMeter 进行测试的起点，是其它 JMeter 测试元件的容器。

### 线程组

代表一定数量的并发用户，它可以用来模拟并发用户发送请求。一个线程组可以看做一个虚拟用户组，线程组中的每个线程都可以理解为一个虚拟用户。

多个用户同时去执行相同的一批次任务。每个线程之间都是隔离的，互不影响的。一个线程的执行过程中，操作的变量，不会影响其他线程的变量值。

#### 取样器错误后动作

- 继续：忽略错误，继续执行
- 启动下一进程循环： 忽略错误，线程当前循环终止，执行下一个循环。
- 停止线程：当前线程停止执行，不影响其他线程正常执行。
- 停止测试：整个测试会在所有当前正在执行的线程执行完毕后停止
- 立即停止测试：整个测试会立即停止执行，当前正在执行的取样器可能会被中断。

### 线程数

线程数也就是并发数，每个线程将会完全独立的运行测试计划，互不干扰。多个线程用于模仿对服务器的并发访问。

### Ramp-Up Period

设置启动所有线程所需要的时间。每个线程启动的间隔是均匀的。当这个值设置的很小、线程数又设置的很大时，在刚开始执行时会对服务器产生很大的负荷。

如有 8 个线程，Ramp-Up = 200 秒，那么线程的启动时间间隔为 200/8 = 25 秒，这样的好处是：一开始不会对服务器有太大的负载。

### 循环次数

该项设置线程组在结束前每个线程循环的次数，如果次数设置为 1，那么 JMeter 在停止前只执行测试计划一次。

### 延迟创建线程至需要

默认情况下，测试开始的时候，所有线程就被创建完了。如果勾选了此选项，那么线程只会在合适的需要用到的时候创建。

- 取样器（ Sampler ）：模拟各种请求。所有实际的测试任务都由取样器承担，存在很多种请求。如：HTTP、ftp 请求等等。
- 监听器：负责收集测试结果，同时也被告知了结果显示的方式。功能是对取样器的请求结果显示、统计一些数据（吞吐量、KB/S ……）等。
- 断言：用于来判断请求响应的结果是否如用户所期望，是否正确。它可以用来隔离问题域，即在确保功能正确的前提下执行压力测试。这个限制对于有效的测试是非常有用的。
- 定时器：负责定义请求（线程）之间的延迟间隔，模拟对服务器的连续请求。
- 逻辑控制器：允许自定义 JMeter 发送请求的行为逻辑，它与 Sampler 结合使用可以模拟复杂的请求序列。
- 配置元件维护 Sampler 需要的配置信息，并根据实际的需要会修改请求的内容。
- 前置处理器和后置处理器负责在生成请求之前和之后完成工作。前置处理器常常用来修改请求的设置，后置处理器则常常用来处理响应的数据。

## TPS & QPS

### QPS

QPS （**每秒的响应请求数**）一般是针对一个特定的查询，服务器在规定时间内（ 1 秒）所处理流量多少的衡量标准，在因特网上，作为域名系统服务器的机器的性能经常用每秒查询率来衡量。

一句话来说就是对应 querys/sec，即针对查询，**每秒的响应请求数**，也即是最大吞吐能力。

### TPS

Transactions Per Second （**每秒传输的事物处理个数**），即服务器每秒能处理的事务数。TPS 经常包括数据的
输入和输出，以及加上用户数据库访问或者一些 rpc 请求的时间。

TPS 经常是业务核心逻辑测试结果的衡量单位。

一个事务是指一个客户机向服务器发送请求然后服务器做出反应的过程。客户机在发送请求时开始计时，收到服务器响应后结束计时，以此来计算一个业务事务所使用的时间。

一般的，评价系统性能均以每秒钟完成的技术交易的数量来衡量。系统整体处理能力取决于处理能力最低模块的 TPS 值。

```shell

```