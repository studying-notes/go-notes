---
date: 2022-10-13T18:42:42+08:00  # 创建日期
author: "Rustle Karl"  # 作者

title: "软件工程"  # 文章标题
url:  "posts/go/interview/engineering"  # 设置网页永久链接
tags: [ "Go", "engineering" ]  # 标签
categories: [ "Go 学习笔记" ]  # 分类

toc: true  # 目录
draft: true  # 草稿
---

软件工程包括两种构面：软件开发技术和软件项目管理。

## 如何将功能需求进行落实

产品策划 -> UI设计 -> 研发评审 -> 测试评审 -> 研发阶段 -> 测试阶段 -> 上线

![img](../assets/images/interview/engineering/f7lRMoelw72Xzm1JGXtA.png)

## 如何衡量一个架构的好坏

- 可伸缩性 (Scalability)，当服务的负载增长时，系统能被扩展来满足需求，且不降低服务质量。简单的说，服务是可扩展的，并且扩展的成本是比较合理的。

- 高可用性 (Availability)，尽管部分硬件和软件会发生故障，整个系统的服务必须是每天 24 小时每星期 7 天可用的。一般通过软件和硬件的冗余来实现。

- 可管理性 (Manageability)，整个系统可能在物理上很大，但应该容易管理。需要开发对应的管理工具。

- 价格有效性 (Cost-effectiveness)，整个系统实现是经济的。如果一个架构很好，但成本高得惊人不一定是合适的架构。

## 如何实现系统的可扩展性

- 水平扩展 (Horizontal scaling)，通过增加更多的服务器来扩展系统的能力。这种方式的优点是可以很容易的扩展，但是需要考虑数据的一致性问题。

- 垂直扩展 (Vertical scaling)，通过增加单个服务器的硬件能力来扩展系统的能力。这种方式的优点是可以很容易的保证数据的一致性，但是不可能无限扩展。

## 如何实现系统的高可用性

常见策略有服务冗余、无状态化、数据存储高可用、柔性化/异步化、兜底/容错、负载均衡、服务限流、服务监控等。

### 服务冗余

服务冗余是指在系统中部署多个相同的服务，当某个服务出现故障时，可以通过负载均衡将请求转发到其他服务上。

### 无状态化

无状态化是指服务不保存任何状态，所有的状态都保存在数据库或者储存服务中。这样当服务出现故障时，可以通过服务冗余来保证服务的高可用性。

### 数据存储高可用

数据存储高可用是指数据存储的可用性，常见的策略有主从复制、主从主动切换、数据分片、读写分离、分库分表等。

分布式领域中有一个著名的 CAP 定理，从理论上论证了存储高可用的复杂度，即存储高可用不可能同时满足“一致性，可用性，分区容错性”，最多只能满足 2 个，其中分区容错在分布式中是必须的，就意味着，我们在做架构设计时必须结合业务对一致性和可用性进行取舍。 

### 柔性化/异步化

只给用户必须要的结果，而不是需要同步的结果可以放在另外的地方异步去操作，这就减少了超时的风险。

### 兜底/容错

一种降级的方案，一种预案，发生问题时通过切换到兜底方案来保证系统的可用性。

### 负载均衡

负载均衡是指将请求分发到多个服务上，常见的策略有轮询、随机、加权轮询、加权随机、最小连接数、最小响应时间等。

### 服务限流

服务限流是指限制服务的并发请求数，常见的策略有漏桶算法、令牌桶算法等。

### 服务监控

服务监控是指对服务的运行状态进行监控，常见的策略有服务健康检查。

## 如何实现系统的可管理性

- 服务治理 (Service governance)，服务治理是指对服务的生命周期进行管理，包括服务的注册、发现、路由、负载均衡、限流、熔断、降级、监控、报警等。

- 配置管理 (Configuration management)，配置管理是指对服务的配置进行管理，包括配置的存储、分发、更新、回滚等。

- 服务监控 (Service monitoring)，服务监控是指对服务的运行状态进行监控，包括服务的调用次数、调用延迟、调用成功率、调用失败率等。

- 服务报警 (Service alerting)，服务报警是指对服务的运行状态进行报警，包括服务的调用次数、调用延迟、调用成功率、调用失败率等。

- 服务日志 (Service logging)，服务日志是指对服务的运行状态进行日志记录，包括服务的调用次数、调用延迟、调用成功率、调用失败率等。

- 服务部署 (Service deployment)，服务部署是指对服务的部署进行管理，包括服务的部署、升级、回滚、扩容、缩容等。

- 服务编排 (Service orchestration)，服务编排是指对服务的编排进行管理，包括服务的编排、调度、执行等。

- 服务测试 (Service testing)，服务测试是指对服务的测试进行管理，包括服务的测试、测试数据的准备、测试数据的回收等。

- 服务安全 (Service security)，服务安全是指对服务的安全进行管理，包括服务的认证、授权、加密、防护等。

- 服务运维 (Service operation)，服务运维是指对服务的运维进行管理，包括服务的运维、运维数据的准备、运维数据的回收等。
