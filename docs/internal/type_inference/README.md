---
date: 2022-10-02T14:37:05+08:00  # 创建日期
author: "Rustle Karl"  # 作者

title: "类型推断"  # 文章标题
url:  "posts/go/docs/internal/type_inference/README"  # 设置网页永久链接
tags: [ "Go", "readme" ]  # 标签
categories: [ "Go 学习笔记" ]  # 分类

toc: true  # 目录
draft: true  # 草稿
---

类型推断（Type Inference）是编程语言**在编译时自动解释表达式中数据类型的能力**。

如下所示，Go 语言提供了特殊的操作符 “:=” 用于变量的类型推断。

```
a := 123 --> var a int = 123
```

## 类型推断的优势

1. 可以使代码更易阅读。

2. 如果类型系统复杂，将减少代码中的冗余信息。

尽管如此，显式地指出类型仍可以让编译器更轻松地了解代码实际应执行的操作，而不会犯任何错误。

## Go 语言中类型推断的特性

Go 语言的类型推断目前还相对简单，没有涵盖参数和返回值之类的内容。在实践中，可以通过在**声明新变量**或**常量**时忽略类型信息或**使用 := 表示法**来触发 Go 语言中的类型推断。

例如，在 Go 语言中，以下三个语句是等效的。

```go
var a int =10
var a =10
a := 10
```

以 a := 333 为例，变量 a 最终会被推断为 int 类型，可以用 Printf 的 %T 格式化打印出 a 的类型，输出结果为 type: int。

```go
package main

import "fmt"

func main() {
	a := 333
	fmt.Printf("type: %T value: %v", a, a)
}
```

由于 Go 语言的类型系统禁止了不同类型之间的转换，因此 a 已经被推断为 int 类型，不能够赋值给 int64 类型。本质上，编译器不允许对变量标识符引用的值进行强制类型转换。

## 类型推断原理

类型推断依赖编译器的处理能力。

[类型推断原理](complier.md)

```go

```
